{"version":3,"file":"commonHelpers.js","sources":["../src/js/cats_api.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"https://api.thecatapi.com/v1\";\naxios.defaults.headers.common[\"x-api-key\"] = \"live_OKdm3C3Y9OH2wAqC4PKAGZ65xdtQxX2EwxjcglD5ogdRR3SMvTRjGXZVEOZY02Kz\";\n\nfunction fetchBreeds() {\n  return axios.get(`${BASE_URL}/breeds`)\n  .then(response => response.data);\n}\n\nfunction fetchCatByBreed(breedId) {    \n    return axios.get(`${BASE_URL}/images/search?breed_ids=${breedId}`)\n        .then(response => response.data);   \n  \n}\n\nexport {fetchBreeds, fetchCatByBreed};\n","import { fetchBreeds, fetchCatByBreed } from \"./js/cats_api\";\nimport SlimSelect from 'slim-select';\nimport '../node_modules/slim-select/dist/slimselect.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst selectors = {\n    breedSelect: document.querySelector(\".breed-select\"),\n    article: document.querySelector(\".article\"),\n    loader: document.querySelector(\".loader\")\n    \n}\n\n\n\nconst selectControl = new SlimSelect({\n  select: selectors.breedSelect,\n  settings: {\n    showSearch: true,\n    searchText: 'Sorry nothing to see here',\n    searchPlaceholder: 'Select Breed',\n    searchHighlight: true\n    },\n    events: {\n        afterChange: (newVal) => {\n            const [{ value: catId }] = newVal;\n            \n            if (!catId) {\n                return\n            }\n            \n            fetchCatByBreed(catId)\n            .then((data) => { \n                const [{ url: src, breeds: [{ name: title, description, temperament }] = {} }] = data;\n                selectors.article.innerHTML = markupCats({\n                    src,\n                    description,\n                    title,\n                    temperament,\n                });\n            })\n            .catch(error => {\n            iziToast.error({\n                position: 'topCenter',\n                message: `Ooops! Something went wrong! Try reload the page!`,\n                });\n            console.error(error);\n  })\n            \n        }\n    }\n});\n\nfetchBreeds()\n    .then((data) => { \n        const selectOptions = data\n            .map(({ id, name }) => ({ value: id, text: name }));\n        selectOptions.unshift({ value: \"\", text: \"Select Breed\", disabled: true });\n        selectControl.setData(selectOptions);\n    })\n    .catch(error => {\n    iziToast.error({\n      position: 'topCenter',\n      message: `Ooops! Something went wrong! Try reload the page!`,\n    });\n    console.error(error);\n  })\n\n\n\nfunction markupCats(catData) {\n    const { src, title, description, temperament } = catData;\n    const shortDetails = `<div class=\"article-item\"><img class=\"article-image\" src=\"${src}\" alt=\"${title}\" />\n        <div class=\"article-description\">  \n        <h1 class=\"article-title\">${title}</h1>      \n      <p class=\"article-main-text\">${description}</p>\n      <p class=\"article-additional-text\"><span class=\"accent\">Temperament: </span>${temperament}</p></div></div>`;\n\n    return shortDetails;\n }\n"],"names":["BASE_URL","axios","fetchBreeds","response","fetchCatByBreed","breedId","selectors","selectControl","SlimSelect","newVal","catId","data","src","title","description","temperament","markupCats","error","iziToast","selectOptions","id","name","catData"],"mappings":"owBAEA,MAAMA,EAAW,+BACjBC,EAAM,SAAS,QAAQ,OAAO,WAAW,EAAI,wEAE7C,SAASC,GAAc,CACrB,OAAOD,EAAM,IAAI,GAAGD,CAAQ,SAAS,EACpC,KAAKG,GAAYA,EAAS,IAAI,CACjC,CAEA,SAASC,EAAgBC,EAAS,CAC9B,OAAOJ,EAAM,IAAI,GAAGD,CAAQ,4BAA4BK,CAAO,EAAE,EAC5D,KAAKF,GAAYA,EAAS,IAAI,CAEvC,CCRA,MAAMG,EAAY,CACd,YAAa,SAAS,cAAc,eAAe,EACnD,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAE5C,EAIMC,EAAgB,IAAIC,EAAW,CACnC,OAAQF,EAAU,YAClB,SAAU,CACR,WAAY,GACZ,WAAY,4BACZ,kBAAmB,eACnB,gBAAiB,EAChB,EACD,OAAQ,CACJ,YAAcG,GAAW,CACrB,KAAM,CAAC,CAAE,MAAOC,CAAO,CAAA,EAAID,EAEtBC,GAILN,EAAgBM,CAAK,EACpB,KAAMC,GAAS,CACZ,KAAM,CAAC,CAAE,IAAKC,EAAK,OAAQ,CAAC,CAAE,KAAMC,EAAO,YAAAC,EAAa,YAAAC,CAAa,CAAA,EAAI,CAAA,CAAI,CAAA,EAAIJ,EACjFL,EAAU,QAAQ,UAAYU,EAAW,CACrC,IAAAJ,EACA,YAAAE,EACA,MAAAD,EACA,YAAAE,CACpB,CAAiB,CACjB,CAAa,EACA,MAAME,GAAS,CAChBC,EAAS,MAAM,CACX,SAAU,YACV,QAAS,mDACzB,CAAiB,EACL,QAAQ,MAAMD,CAAK,CAC/B,CAAG,CAEM,CACJ,CACL,CAAC,EAEDf,EAAa,EACR,KAAMS,GAAS,CACZ,MAAMQ,EAAgBR,EACjB,IAAI,CAAC,CAAE,GAAAS,EAAI,KAAAC,MAAY,CAAE,MAAOD,EAAI,KAAMC,CAAM,EAAC,EACtDF,EAAc,QAAQ,CAAE,MAAO,GAAI,KAAM,eAAgB,SAAU,EAAI,CAAE,EACzEZ,EAAc,QAAQY,CAAa,CAC3C,CAAK,EACA,MAAMF,GAAS,CAChBC,EAAS,MAAM,CACb,SAAU,YACV,QAAS,mDACf,CAAK,EACD,QAAQ,MAAMD,CAAK,CACvB,CAAG,EAIH,SAASD,EAAWM,EAAS,CACzB,KAAM,CAAE,IAAAV,EAAK,MAAAC,EAAO,YAAAC,EAAa,YAAAC,CAAW,EAAKO,EAOjD,MANqB,6DAA6DV,CAAG,UAAUC,CAAK;AAAA;AAAA,oCAEpEA,CAAK;AAAA,qCACJC,CAAW;AAAA,oFACoCC,CAAW,kBAG/F"}